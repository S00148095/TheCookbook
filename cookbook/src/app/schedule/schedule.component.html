<div *ngIf="CheckVisibility()">
	<div class="container-fluid">
		<div class="contentexpanded">
			<table class="table table-bordered table-hover">
				<tr>
					<th class="col-xs-6">Meal</th>
					<th class="col-xs-6">Date</th>
				</tr>
				<tr *ngFor="let meal of testSchedule; let i = index">
					<td class="col-xs-6">{{meal.Meal}}</td>
					<td class="col-xs-6">
						<input [(ngModel)]="testSchedule[i].Date">
					</td>
				</tr>
			</table>
			<div class="btn-group btn-group-justified" role="group">
				<a type="button" class="btn btn-danger" onclick="Expand()">Cancel</a>
				<a type="button" class="btn btn-success" (click)="Commit()">Save</a>
			</div>
		</div>
		<div class="centred row contentvisible">
			<h3>Schedule for: {{DateRangeStartString}} to {{DateRangeEndString}}</h3>
			<h4>Click and drag meals to edit the next few days or click Edit Schedule below to edit your entire schedule</h4>
			<a type="button" class="btn btn-success" onclick="Expand()">Edit schedule</a>
			<div class="btn-group btn-group-justified" role="group">
				<a type="button" class="btn btn-primary" (click)="Previous()">Previous Week</a>
				<a type="button" class="btn btn-primary" (click)="Now()">Go To This Week</a>
				<a type="button" class="btn btn-primary" (click)="Next()">Next Week</a>
			</div>
			<table class="table table-bordered table-hover">
				<tr>
					<th>
						<h4>{{DateRangeStartString}}</h4>
					</th>
					<th>
						<h4>{{Day2String}}</h4>
					</th>
					<th>
						<h4>{{Day3String}}</h4>
					</th>
					<th>
						<h4>{{Day4String}}</h4>
					</th>
					<th>
						<h4>{{Day5String}}</h4>
					</th>
					<th>
						<h4>{{Day6String}}</h4>
					</th>
					<th>
						<h4>{{DateRangeEndString}}</h4>
					</th>
				</tr>
				<tr>
					<td [dragula]='"first-bag"' [dragulaModel]='scheduleDay1'>
						<div *ngFor="let meal of scheduleDay1">
							<app-meal [meal]="meal"></app-meal>
						</div>
					</td>
					<td [dragula]='"first-bag"' [dragulaModel]='scheduleDay2'>
						<div *ngFor="let meal of scheduleDay2">
							<app-meal [meal]="meal"></app-meal>
						</div>
					</td>
					<td [dragula]='"first-bag"' [dragulaModel]='scheduleDay3'>
						<div *ngFor="let meal of scheduleDay3">
							<app-meal [meal]="meal"></app-meal>
						</div>
					</td>
					<td [dragula]='"first-bag"' [dragulaModel]='scheduleDay4'>
						<div *ngFor="let meal of scheduleDay4">
							<app-meal [meal]="meal"></app-meal>
						</div>
					</td>
					<td [dragula]='"first-bag"' [dragulaModel]='scheduleDay5'>
						<div *ngFor="let meal of scheduleDay5">
							<app-meal [meal]="meal"></app-meal>
						</div>
					</td>
					<td [dragula]='"first-bag"' [dragulaModel]='scheduleDay6'>
						<div *ngFor="let meal of scheduleDay6">
							<div class="dropdown note">
								<p>{{meal.Meal}}</p>
							</div>
						</div>
					</td>
					<td [dragula]='"first-bag"' [dragulaModel]='scheduleDay7'>
						<div *ngFor="let meal of scheduleDay7">
							<app-meal [meal]="meal"></app-meal>
						</div>
					</td>
				</tr>
			</table>
			<div class="btn-group btn-group-justified" role="group">
				<a type="button" class="btn btn-danger" (click)="Revert()">Cancel</a>
				<a type="button" class="btn btn-success" (click)="CommitDrag()">Save</a>
			</div>
		</div>
	</div>
</div>